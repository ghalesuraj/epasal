"function"!=typeof Object.create&&(Object.create=function(o){function e(){}return e.prototype=o,new e}),function(p,t){var i={init:function(o,e){var i,t=this;t.elem=e,t.$elem=p(e),t.imageSrc=t.$elem.data("zoom-image")?t.$elem.data("zoom-image"):t.$elem.attr("src"),t.options=p.extend({},p.fn.ezPlus.options,t.responsiveConfig(o||{})),t.options.enabled&&(t.options.tint&&(t.options.lensColour="none",t.options.lensOpacity="1"),"inner"===t.options.zoomType&&(t.options.showLens=!1),t.$elem.parent().removeAttr("title").removeAttr("alt"),t.zoomImage=t.imageSrc,t.refresh(1),(i=p(t.options.gallery?"#"+t.options.gallery:t.options.gallerySelector)).on("click.zoom",t.options.galleryItem,function(o){if(t.options.galleryActiveClass&&(p(t.options.galleryItem,i).removeClass(t.options.galleryActiveClass),p(this).addClass(t.options.galleryActiveClass)),"A"===this.tagName&&o.preventDefault(),p(this).data("zoom-image")?t.zoomImagePre=p(this).data("zoom-image"):t.zoomImagePre=p(this).data("image"),t.swaptheimage(p(this).data("image"),t.zoomImagePre),"A"===this.tagName)return!1}))},refresh:function(o){var e=this;setTimeout(function(){e.fetch(e.imageSrc)},o||e.options.refresh)},fetch:function(o){var e=this,i=new Image;i.onload=function(){e.largeWidth=i.width,e.largeHeight=i.height,e.startZoom(),e.currentImage=e.imageSrc,e.options.onZoomedImageLoaded(e.$elem)},e.setImageSource(i,o)},setImageSource:function(o,e){o.src=e},startZoom:function(){var o,e,i,t=this;t.nzWidth=t.$elem.width(),t.nzHeight=t.$elem.height(),t.isWindowActive=!1,t.isLensActive=!1,t.isTintActive=!1,t.overWindow=!1,t.options.imageCrossfade&&(t.zoomWrap=t.$elem.wrap('<div style="height:'+t.nzHeight+"px;width:"+t.nzWidth+'px;" class="zoomWrapper" />'),t.$elem.css("position","absolute")),t.zoomLock=1,t.scrollingLock=!1,t.changeBgSize=!1,t.currentZoomLevel=t.options.zoomLevel,t.nzOffset=t.$elem.offset(),t.widthRatio=t.largeWidth/t.currentZoomLevel/t.nzWidth,t.heightRatio=t.largeHeight/t.currentZoomLevel/t.nzHeight,"window"===t.options.zoomType&&(t.zoomWindowStyle="overflow: hidden;background-position: 0px 0px;text-align:center;background-color: "+String(t.options.zoomWindowBgColour)+";width: "+String(t.options.zoomWindowWidth)+"px;height: "+String(t.options.zoomWindowHeight)+"px;float: left;background-size: "+t.largeWidth/t.currentZoomLevel+"px "+t.largeHeight/t.currentZoomLevel+"px;display: none;z-index:100;border: "+String(t.options.borderSize)+"px solid "+t.options.borderColour+";background-repeat: no-repeat;position: absolute;"),"inner"===t.options.zoomType&&(t.zoomWindowStyle=(o=t.$elem.css("border-left-width"),"overflow: hidden;margin-left: "+String(o)+";margin-top: "+String(o)+";background-position: 0px 0px;width: "+String(t.nzWidth)+"px;height: "+String(t.nzHeight)+"px;float: left;display: none;cursor:"+t.options.cursor+";px solid "+t.options.borderColour+";background-repeat: no-repeat;position: absolute;")),"window"===t.options.zoomType&&(t.lensStyle=(e=t.nzHeight<t.options.zoomWindowHeight/t.heightRatio?t.nzHeight:String(t.options.zoomWindowHeight/t.heightRatio),i=t.largeWidth<t.options.zoomWindowWidth?t.nzWidth:String(t.options.zoomWindowWidth/t.widthRatio),"background-position: 0px 0px;width: "+String(t.options.zoomWindowWidth/t.widthRatio)+"px;height: "+String(t.options.zoomWindowHeight/t.heightRatio)+"px;float: right;display: none;overflow: hidden;z-index: 999;opacity:"+t.options.lensOpacity+";filter: alpha(opacity = "+100*t.options.lensOpacity+"); zoom:1;width:"+i+"px;height:"+e+"px;background-color:"+t.options.lensColour+";cursor:"+t.options.cursor+";border: "+t.options.lensBorderSize+"px solid "+t.options.lensBorderColour+";background-repeat: no-repeat;position: absolute;")),t.tintStyle="display: block;position: absolute;background-color: "+t.options.tintColour+";filter:alpha(opacity=0);opacity: 0;width: "+t.nzWidth+"px;height: "+t.nzHeight+"px;",t.lensRound="","lens"===t.options.zoomType&&(t.lensStyle="background-position: 0px 0px;float: left;display: none;border: "+String(t.options.borderSize)+"px solid "+t.options.borderColour+";width:"+String(t.options.lensSize)+"px;height:"+String(t.options.lensSize)+"px;background-repeat: no-repeat;position: absolute;"),"round"===t.options.lensShape&&(t.lensRound="border-top-left-radius: "+String(t.options.lensSize/2+t.options.borderSize)+"px;border-top-right-radius: "+String(t.options.lensSize/2+t.options.borderSize)+"px;border-bottom-left-radius: "+String(t.options.lensSize/2+t.options.borderSize)+"px;border-bottom-right-radius: "+String(t.options.lensSize/2+t.options.borderSize)+"px;"),t.zoomContainer=p('<div class="zoomContainer" style="position:absolute;left:'+t.nzOffset.left+"px;top:"+t.nzOffset.top+"px;height:"+t.nzHeight+"px;width:"+t.nzWidth+"px;z-index:"+t.options.zIndex+'"></div>'),p(t.options.zoomContainerAppendTo).append(t.zoomContainer),t.options.containLensZoom&&"lens"===t.options.zoomType&&t.zoomContainer.css("overflow","hidden"),"inner"!==t.options.zoomType&&(t.zoomLens=p('<div class="zoomLens" style="'+t.lensStyle+t.lensRound+'">&nbsp;</div>').appendTo(t.zoomContainer).click(function(){t.$elem.trigger("click")}),t.options.tint&&(t.tintContainer=p("<div/>").addClass("tintContainer"),t.zoomTint=p('<div class="zoomTint" style="'+t.tintStyle+'"></div>'),t.zoomLens.wrap(t.tintContainer),t.zoomTintcss=t.zoomLens.after(t.zoomTint),t.zoomTintImage=p('<img style="position: absolute; left: 0px; top: 0px; max-width: none; width: '+t.nzWidth+"px; height: "+t.nzHeight+'px;" src="'+t.imageSrc+'">').appendTo(t.zoomLens).click(function(){t.$elem.trigger("click")})));var n=isNaN(t.options.zoomWindowPosition)?"body":t.zoomContainer;function s(o){t.lastX===o.clientX&&t.lastY===o.clientY||(t.setPosition(o),t.currentLoc=o),t.lastX=o.clientX,t.lastY=o.clientY}t.zoomWindow=p('<div style="z-index:999;left:'+t.windowOffsetLeft+"px;top:"+t.windowOffsetTop+"px;"+t.zoomWindowStyle+'" class="zoomWindow">&nbsp;</div>').appendTo(n).click(function(){t.$elem.trigger("click")}),t.zoomWindowContainer=p("<div/>").addClass("zoomWindowContainer").css("width",t.options.zoomWindowWidth),t.zoomWindow.wrap(t.zoomWindowContainer),"lens"===t.options.zoomType&&t.zoomLens.css("background-image",'url("'+t.imageSrc+'")'),"window"===t.options.zoomType&&t.zoomWindow.css("background-image",'url("'+t.imageSrc+'")'),"inner"===t.options.zoomType&&t.zoomWindow.css("background-image",'url("'+t.imageSrc+'")'),t.options.touchEnabled&&(t.$elem.bind("touchmove",function(o){o.preventDefault();o=o.originalEvent.touches[0]||o.originalEvent.changedTouches[0];t.setPosition(o)}),t.zoomContainer.bind("touchmove",function(o){"inner"===t.options.zoomType&&t.showHideWindow("show"),o.preventDefault();o=o.originalEvent.touches[0]||o.originalEvent.changedTouches[0];t.setPosition(o)}),t.zoomContainer.bind("touchend",function(o){t.showHideWindow("hide"),t.options.showLens&&t.showHideLens("hide"),t.options.tint&&"inner"!==t.options.zoomType&&t.showHideTint("hide")}),t.$elem.bind("touchend",function(o){t.showHideWindow("hide"),t.options.showLens&&t.showHideLens("hide"),t.options.tint&&"inner"!==t.options.zoomType&&t.showHideTint("hide")}),t.options.showLens&&(t.zoomLens.bind("touchmove",function(o){o.preventDefault();o=o.originalEvent.touches[0]||o.originalEvent.changedTouches[0];t.setPosition(o)}),t.zoomLens.bind("touchend",function(o){t.showHideWindow("hide"),t.options.showLens&&t.showHideLens("hide"),t.options.tint&&"inner"!==t.options.zoomType&&t.showHideTint("hide")}))),t.$elem.bind("mousemove",function(o){!1===t.overWindow&&t.setElements("show"),t.lastX===o.clientX&&t.lastY===o.clientY||(t.setPosition(o),t.currentLoc=o),t.lastX=o.clientX,t.lastY=o.clientY}),t.zoomContainer.bind("click",t.options.onImageClick),t.zoomContainer.bind("mousemove",function(o){!1===t.overWindow&&t.setElements("show"),s(o)});n=null;"inner"!==t.options.zoomType&&(n=t.zoomLens),t.options.tint&&"inner"!==t.options.zoomType&&(n=t.zoomTint),"inner"===t.options.zoomType&&(n=t.zoomWindow),n&&n.bind("mousemove",s),t.zoomContainer.add(t.$elem).mouseenter(function(){!1===t.overWindow&&t.setElements("show")}).mouseleave(function(){t.scrollLock||(t.setElements("hide"),t.options.onDestroy(t.$elem))}),"inner"!==t.options.zoomType&&t.zoomWindow.mouseenter(function(){t.overWindow=!0,t.setElements("hide")}).mouseleave(function(){t.overWindow=!1}),t.options.minZoomLevel?t.minZoomLevel=t.options.minZoomLevel:t.minZoomLevel=2*t.options.scrollZoomIncrement,t.options.scrollZoom&&t.zoomContainer.add(t.$elem).bind("wheel DOMMouseScroll MozMousePixelScroll",function(o){t.scrollLock=!0,clearTimeout(p.data(this,"timer")),p.data(this,"timer",setTimeout(function(){t.scrollLock=!1},250));var e=o.originalEvent.deltaY||-1*o.originalEvent.detail;return o.stopImmediatePropagation(),o.stopPropagation(),o.preventDefault(),0<e/120?t.currentZoomLevel>=t.minZoomLevel&&t.changeZoomLevel(t.currentZoomLevel-t.options.scrollZoomIncrement):(t.fullheight||t.fullwidth)&&t.options.mantainZoomAspectRatio||(!t.options.maxZoomLevel||t.currentZoomLevel<=t.options.maxZoomLevel)&&t.changeZoomLevel(parseFloat(t.currentZoomLevel)+t.options.scrollZoomIncrement),!1})},setElements:function(o){var e=this;if(!e.options.zoomEnabled)return!1;"show"===o&&e.isWindowSet&&("inner"===e.options.zoomType&&e.showHideWindow("show"),"window"===e.options.zoomType&&e.showHideWindow("show"),e.options.showLens&&e.showHideLens("show"),e.options.tint&&"inner"!==e.options.zoomType&&e.showHideTint("show")),"hide"===o&&("window"===e.options.zoomType&&e.showHideWindow("hide"),e.options.tint||e.showHideWindow("hide"),e.options.showLens&&e.showHideLens("hide"),e.options.tint&&e.showHideTint("hide"))},setPosition:function(o){var e,i,t=this;if(!t.options.zoomEnabled)return!1;t.nzHeight=t.$elem.height(),t.nzWidth=t.$elem.width(),t.nzOffset=t.$elem.offset(),t.options.tint&&"inner"!==t.options.zoomType&&t.zoomTint.css({top:0,left:0}),t.options.responsive&&!t.options.scrollZoom&&t.options.showLens&&(i=t.nzHeight<t.options.zoomWindowWidth/t.widthRatio?t.nzHeight:String(t.options.zoomWindowHeight/t.heightRatio),e=t.largeWidth<t.options.zoomWindowWidth?t.nzWidth:t.options.zoomWindowWidth/t.widthRatio,t.widthRatio=t.largeWidth/t.nzWidth,t.heightRatio=t.largeHeight/t.nzHeight,"lens"!==t.options.zoomType&&(i=t.nzHeight<t.options.zoomWindowWidth/t.widthRatio?t.nzHeight:String(t.options.zoomWindowHeight/t.heightRatio),e=t.nzWidth<t.options.zoomWindowHeight/t.heightRatio?t.nzWidth:String(t.options.zoomWindowWidth/t.widthRatio),t.zoomLens.css({width:e,height:i}),t.options.tint&&t.zoomTintImage.css({width:t.nzWidth,height:t.nzHeight})),"lens"===t.options.zoomType&&t.zoomLens.css({width:String(t.options.lensSize)+"px",height:String(t.options.lensSize)+"px"})),t.zoomContainer.css({top:t.nzOffset.top,left:t.nzOffset.left}),t.mouseLeft=parseInt(o.pageX-t.nzOffset.left),t.mouseTop=parseInt(o.pageY-t.nzOffset.top),"window"===t.options.zoomType&&(e=t.zoomLens.height()/2,i=t.zoomLens.width()/2,t.Etoppos=t.mouseTop<0+e,t.Eboppos=t.mouseTop>t.nzHeight-e-2*t.options.lensBorderSize,t.Eloppos=t.mouseLeft<0+i,t.Eroppos=t.mouseLeft>t.nzWidth-i-2*t.options.lensBorderSize),"inner"===t.options.zoomType&&(t.Etoppos=t.mouseTop<t.nzHeight/2/t.heightRatio,t.Eboppos=t.mouseTop>t.nzHeight-t.nzHeight/2/t.heightRatio,t.Eloppos=t.mouseLeft<0+t.nzWidth/2/t.widthRatio,t.Eroppos=t.mouseLeft>t.nzWidth-t.nzWidth/2/t.widthRatio-2*t.options.lensBorderSize),t.mouseLeft<0||t.mouseTop<0||t.mouseLeft>t.nzWidth||t.mouseTop>t.nzHeight?t.setElements("hide"):(t.options.showLens&&(t.lensLeftPos=String(Math.floor(t.mouseLeft-t.zoomLens.width()/2)),t.lensTopPos=String(Math.floor(t.mouseTop-t.zoomLens.height()/2))),t.Etoppos&&(t.lensTopPos=0),t.Eloppos&&(t.windowLeftPos=0,t.lensLeftPos=0,t.tintpos=0),"window"===t.options.zoomType&&(t.Eboppos&&(t.lensTopPos=Math.max(t.nzHeight-t.zoomLens.height()-2*t.options.lensBorderSize,0)),t.Eroppos&&(t.lensLeftPos=t.nzWidth-t.zoomLens.width()-2*t.options.lensBorderSize)),"inner"===t.options.zoomType&&(t.Eboppos&&(t.lensTopPos=Math.max(t.nzHeight-2*t.options.lensBorderSize,0)),t.Eroppos&&(t.lensLeftPos=t.nzWidth-t.nzWidth-2*t.options.lensBorderSize)),"lens"===t.options.zoomType&&(t.windowLeftPos=String(-1*((o.pageX-t.nzOffset.left)*t.widthRatio-t.zoomLens.width()/2)),t.windowTopPos=String(-1*((o.pageY-t.nzOffset.top)*t.heightRatio-t.zoomLens.height()/2)),t.zoomLens.css("background-position",t.windowLeftPos+"px "+t.windowTopPos+"px"),t.changeBgSize&&(t.nzHeight>t.nzWidth?("lens"===t.options.zoomType&&t.zoomLens.css("background-size",t.largeWidth/t.newvalueheight+"px "+t.largeHeight/t.newvalueheight+"px"),t.zoomWindow.css("background-size",t.largeWidth/t.newvalueheight+"px "+t.largeHeight/t.newvalueheight+"px")):("lens"===t.options.zoomType&&t.zoomLens.css("background-size",t.largeWidth/t.newvaluewidth+"px "+t.largeHeight/t.newvaluewidth+"px"),t.zoomWindow.css("background-size",t.largeWidth/t.newvaluewidth+"px "+t.largeHeight/t.newvaluewidth+"px")),t.changeBgSize=!1),t.setWindowPosition(o)),t.options.tint&&"inner"!==t.options.zoomType&&t.setTintPosition(o),"window"===t.options.zoomType&&t.setWindowPosition(o),"inner"===t.options.zoomType&&t.setWindowPosition(o),t.options.showLens&&(t.fullwidth&&"lens"!==t.options.zoomType&&(t.lensLeftPos=0),t.zoomLens.css({left:t.lensLeftPos+"px",top:t.lensTopPos+"px"})))},showHideZoomContainer:function(o){var e=this;"show"===o&&e.zoomContainer&&e.zoomContainer.show(),"hide"===o&&e.zoomContainer&&e.zoomContainer.hide()},showHideWindow:function(o){var e=this;"show"===o&&!e.isWindowActive&&e.zoomWindow&&(e.options.onShow(e),e.options.zoomWindowFadeIn?e.zoomWindow.stop(!0,!0,!1).fadeIn(e.options.zoomWindowFadeIn):e.zoomWindow.show(),e.isWindowActive=!0),"hide"===o&&e.isWindowActive&&(e.options.zoomWindowFadeOut?e.zoomWindow.stop(!0,!0).fadeOut(e.options.zoomWindowFadeOut,function(){e.loop&&(clearInterval(e.loop),e.loop=!1)}):e.zoomWindow.hide(),e.isWindowActive=!1)},showHideLens:function(o){var e=this;"show"===o&&(e.isLensActive||(e.options.lensFadeIn&&e.zoomLens?e.zoomLens.stop(!0,!0,!1).fadeIn(e.options.lensFadeIn):e.zoomLens.show(),e.isLensActive=!0)),"hide"===o&&e.isLensActive&&(e.options.lensFadeOut?e.zoomLens.stop(!0,!0).fadeOut(e.options.lensFadeOut):e.zoomLens.hide(),e.isLensActive=!1)},showHideTint:function(o){var e=this;"show"===o&&!e.isTintActive&&e.zoomTint&&(e.options.zoomTintFadeIn?e.zoomTint.css("opacity",e.options.tintOpacity).animate().stop(!0,!0).fadeIn("slow"):(e.zoomTint.css("opacity",e.options.tintOpacity).animate(),e.zoomTint.show()),e.isTintActive=!0),"hide"===o&&e.isTintActive&&(e.options.zoomTintFadeOut?e.zoomTint.stop(!0,!0).fadeOut(e.options.zoomTintFadeOut):e.zoomTint.hide(),e.isTintActive=!1)},setLensPosition:function(o){},setWindowPosition:function(o){var e=this;if(isNaN(e.options.zoomWindowPosition))e.externalContainer=p("#"+e.options.zoomWindowPosition),e.externalContainerWidth=e.externalContainer.width(),e.externalContainerHeight=e.externalContainer.height(),e.externalContainerOffset=e.externalContainer.offset(),e.windowOffsetTop=e.externalContainerOffset.top,e.windowOffsetLeft=e.externalContainerOffset.left;else switch(e.options.zoomWindowPosition){case 1:e.windowOffsetTop=e.options.zoomWindowOffsetY,e.windowOffsetLeft=+e.nzWidth;break;case 2:e.options.zoomWindowHeight>e.nzHeight?(e.windowOffsetTop=-1*(e.options.zoomWindowHeight/2-e.nzHeight/2),e.windowOffsetLeft=e.nzWidth):p.noop();break;case 3:e.windowOffsetTop=e.nzHeight-e.zoomWindow.height()-2*e.options.borderSize,e.windowOffsetLeft=e.nzWidth;break;case 4:e.windowOffsetTop=e.nzHeight,e.windowOffsetLeft=e.nzWidth;break;case 5:e.windowOffsetTop=e.nzHeight,e.windowOffsetLeft=e.nzWidth-e.zoomWindow.width()-2*e.options.borderSize;break;case 6:e.options.zoomWindowHeight>e.nzHeight?(e.windowOffsetTop=e.nzHeight,e.windowOffsetLeft=-1*(e.options.zoomWindowWidth/2-e.nzWidth/2+2*e.options.borderSize)):p.noop();break;case 7:e.windowOffsetTop=e.nzHeight,e.windowOffsetLeft=0;break;case 8:e.windowOffsetTop=e.nzHeight,e.windowOffsetLeft=-1*(e.zoomWindow.width()+2*e.options.borderSize);break;case 9:e.windowOffsetTop=e.nzHeight-e.zoomWindow.height()-2*e.options.borderSize,e.windowOffsetLeft=-1*(e.zoomWindow.width()+2*e.options.borderSize);break;case 10:e.options.zoomWindowHeight>e.nzHeight?(e.windowOffsetTop=-1*(e.options.zoomWindowHeight/2-e.nzHeight/2),e.windowOffsetLeft=-1*(e.zoomWindow.width()+2*e.options.borderSize)):p.noop();break;case 11:e.windowOffsetTop=e.options.zoomWindowOffsetY,e.windowOffsetLeft=-1*(e.zoomWindow.width()+2*e.options.borderSize);break;case 12:e.windowOffsetTop=-1*(e.zoomWindow.height()+2*e.options.borderSize),e.windowOffsetLeft=-1*(e.zoomWindow.width()+2*e.options.borderSize);break;case 13:e.windowOffsetTop=-1*(e.zoomWindow.height()+2*e.options.borderSize),e.windowOffsetLeft=0;break;case 14:e.options.zoomWindowHeight>e.nzHeight?(e.windowOffsetTop=-1*(e.zoomWindow.height()+2*e.options.borderSize),e.windowOffsetLeft=-1*(e.options.zoomWindowWidth/2-e.nzWidth/2+2*e.options.borderSize)):p.noop();break;case 15:e.windowOffsetTop=-1*(e.zoomWindow.height()+2*e.options.borderSize),e.windowOffsetLeft=e.nzWidth-e.zoomWindow.width()-2*e.options.borderSize;break;case 16:e.windowOffsetTop=-1*(e.zoomWindow.height()+2*e.options.borderSize),e.windowOffsetLeft=e.nzWidth;break;default:e.windowOffsetTop=e.options.zoomWindowOffsetY,e.windowOffsetLeft=e.nzWidth}e.isWindowSet=!0,e.windowOffsetTop=e.windowOffsetTop+e.options.zoomWindowOffsetY,e.windowOffsetLeft=e.windowOffsetLeft+e.options.zoomWindowOffsetX,e.zoomWindow.css({top:e.windowOffsetTop,left:e.windowOffsetLeft}),"inner"===e.options.zoomType&&e.zoomWindow.css({top:0,left:0}),e.windowLeftPos=String(-1*((o.pageX-e.nzOffset.left)*e.widthRatio-e.zoomWindow.width()/2)),e.windowTopPos=String(-1*((o.pageY-e.nzOffset.top)*e.heightRatio-e.zoomWindow.height()/2)),e.Etoppos&&(e.windowTopPos=0),e.Eloppos&&(e.windowLeftPos=0),e.Eboppos&&(e.windowTopPos=-1*(e.largeHeight/e.currentZoomLevel-e.zoomWindow.height())),e.Eroppos&&(e.windowLeftPos=-1*(e.largeWidth/e.currentZoomLevel-e.zoomWindow.width())),e.fullheight&&(e.windowTopPos=0),e.fullwidth&&(e.windowLeftPos=0),"window"!==e.options.zoomType&&"inner"!==e.options.zoomType||(1===e.zoomLock&&(e.widthRatio<=1&&(e.windowLeftPos=0),e.heightRatio<=1&&(e.windowTopPos=0)),"window"===e.options.zoomType&&(e.largeHeight<e.options.zoomWindowHeight&&(e.windowTopPos=0),e.largeWidth<e.options.zoomWindowWidth&&(e.windowLeftPos=0)),e.options.easing?(e.xp||(e.xp=0),e.yp||(e.yp=0),e.loop||(e.loop=setInterval(function(){e.xp+=(e.windowLeftPos-e.xp)/e.options.easingAmount,e.yp+=(e.windowTopPos-e.yp)/e.options.easingAmount,e.scrollingLock?(clearInterval(e.loop),e.xp=e.windowLeftPos,e.yp=e.windowTopPos,e.xp=-1*((o.pageX-e.nzOffset.left)*e.widthRatio-e.zoomWindow.width()/2),e.yp=-1*((o.pageY-e.nzOffset.top)*e.heightRatio-e.zoomWindow.height()/2),e.changeBgSize&&(e.nzHeight>e.nzWidth?("lens"===e.options.zoomType&&e.zoomLens.css("background-size",e.largeWidth/e.newvalueheight+"px "+e.largeHeight/e.newvalueheight+"px"),e.zoomWindow.css("background-size",e.largeWidth/e.newvalueheight+"px "+e.largeHeight/e.newvalueheight+"px")):("lens"!==e.options.zoomType&&e.zoomLens.css("background-size",e.largeWidth/e.newvaluewidth+"px "+e.largeHeight/e.newvalueheight+"px"),e.zoomWindow.css("background-size",e.largeWidth/e.newvaluewidth+"px "+e.largeHeight/e.newvaluewidth+"px")),e.changeBgSize=!1),e.zoomWindow.css("background-position",e.windowLeftPos+"px "+e.windowTopPos+"px"),e.scrollingLock=!1,e.loop=!1):Math.round(Math.abs(e.xp-e.windowLeftPos)+Math.abs(e.yp-e.windowTopPos))<1?(clearInterval(e.loop),e.zoomWindow.css("background-position",e.windowLeftPos+"px "+e.windowTopPos+"px"),e.loop=!1):(e.changeBgSize&&(e.nzHeight>e.nzWidth?("lens"===e.options.zoomType&&e.zoomLens.css("background-size",e.largeWidth/e.newvalueheight+"px "+e.largeHeight/e.newvalueheight+"px"),e.zoomWindow.css("background-size",e.largeWidth/e.newvalueheight+"px "+e.largeHeight/e.newvalueheight+"px")):("lens"!==e.options.zoomType&&e.zoomLens.css("background-size",e.largeWidth/e.newvaluewidth+"px "+e.largeHeight/e.newvaluewidth+"px"),e.zoomWindow.css("background-size",e.largeWidth/e.newvaluewidth+"px "+e.largeHeight/e.newvaluewidth+"px")),e.changeBgSize=!1),e.zoomWindow.css("background-position",e.xp+"px "+e.yp+"px"))},16))):(e.changeBgSize&&(e.nzHeight>e.nzWidth?("lens"===e.options.zoomType&&e.zoomLens.css("background-size",e.largeWidth/e.newvalueheight+"px "+e.largeHeight/e.newvalueheight+"px"),e.zoomWindow.css("background-size",e.largeWidth/e.newvalueheight+"px "+e.largeHeight/e.newvalueheight+"px")):("lens"===e.options.zoomType&&e.zoomLens.css("background-size",e.largeWidth/e.newvaluewidth+"px "+e.largeHeight/e.newvaluewidth+"px"),e.largeHeight/e.newvaluewidth<e.options.zoomWindowHeight?e.zoomWindow.css("background-size",e.largeWidth/e.newvaluewidth+"px "+e.largeHeight/e.newvaluewidth+"px"):e.zoomWindow.css("background-size",e.largeWidth/e.newvalueheight+"px "+e.largeHeight/e.newvalueheight+"px")),e.changeBgSize=!1),e.zoomWindow.css("background-position",e.windowLeftPos+"px "+e.windowTopPos+"px")))},setTintPosition:function(o){var e=this,i=e.zoomLens.width(),t=e.zoomLens.height();e.nzOffset=e.$elem.offset(),e.tintpos=String(-1*(o.pageX-e.nzOffset.left-i/2)),e.tintposy=String(-1*(o.pageY-e.nzOffset.top-t/2)),e.Etoppos&&(e.tintposy=0),e.Eloppos&&(e.tintpos=0),e.Eboppos&&(e.tintposy=-1*(e.nzHeight-t-2*e.options.lensBorderSize)),e.Eroppos&&(e.tintpos=-1*(e.nzWidth-i-2*e.options.lensBorderSize)),e.options.tint&&(e.fullheight&&(e.tintposy=0),e.fullwidth&&(e.tintpos=0),e.zoomTintImage.css({left:e.tintpos+"px",top:e.tintposy+"px"}))},swaptheimage:function(o,e){var i=this,t=new Image;i.options.loadingIcon&&(i.spinner=p("<div style=\"background: url('"+i.options.loadingIcon+"') no-repeat center;height:"+i.nzHeight+"px;width:"+i.nzWidth+'px;z-index: 2000;position: absolute; background-position: center center;"></div>'),i.$elem.after(i.spinner)),i.options.onImageSwap(i.$elem),t.onload=function(){i.largeWidth=t.width,i.largeHeight=t.height,i.zoomImage=e,i.zoomWindow.css("background-size",i.largeWidth+"px "+i.largeHeight+"px"),i.swapAction(o,e)},i.setImageSource(t,e)},swapAction:function(o,e){var i,t,n,s=this,d=s.$elem.width(),h=s.$elem.height(),a=new Image;a.onload=function(){s.nzHeight=a.height,s.nzWidth=a.width,s.options.onImageSwapComplete(s.$elem),s.doneCallback()},s.setImageSource(a,o),s.currentZoomLevel=s.options.zoomLevel,s.options.maxZoomLevel=!1,"lens"===s.options.zoomType&&s.zoomLens.css("background-image",'url("'+e+'")'),"window"===s.options.zoomType&&s.zoomWindow.css("background-image",'url("'+e+'")'),"inner"===s.options.zoomType&&s.zoomWindow.css("background-image",'url("'+e+'")'),s.currentImage=e,s.options.imageCrossfade?(i=(t=s.$elem).clone(),s.$elem.attr("src",o),s.$elem.after(i),i.stop(!0).fadeOut(s.options.imageCrossfade,function(){p(this).remove()}),s.$elem.width("auto").removeAttr("width"),s.$elem.height("auto").removeAttr("height"),t.fadeIn(s.options.imageCrossfade),s.options.tint&&"inner"!==s.options.zoomType&&(t=(i=s.zoomTintImage).clone(),s.zoomTintImage.attr("src",e),s.zoomTintImage.after(t),t.stop(!0).fadeOut(s.options.imageCrossfade,function(){p(this).remove()}),i.fadeIn(s.options.imageCrossfade),s.zoomTint.css({height:h,width:d})),s.zoomContainer.css({height:h,width:d}),"inner"===s.options.zoomType&&(s.options.constrainType||(s.zoomWrap.parent().css({height:h,width:d}),s.zoomWindow.css({height:h,width:d})))):(s.$elem.attr("src",o),s.options.tint&&(s.zoomTintImage.attr("src",e),s.zoomTintImage.attr("height",h),s.zoomTintImage.css("height",h),s.zoomTint.css("height",h)),s.zoomContainer.css({height:h,width:d})),s.options.imageCrossfade&&s.zoomWrap.css({height:h,width:d}),s.options.constrainType&&("height"===s.options.constrainType&&(n={height:s.options.constrainSize,width:"auto"},s.zoomContainer.css(n),s.options.imageCrossfade?(s.zoomWrap.css(n),s.constwidth=s.zoomWrap.width()):(s.$elem.css(n),s.constwidth=d),n={height:s.options.constrainSize,width:s.constwidth},"inner"===s.options.zoomType&&(s.zoomWrap.parent().css(n),s.zoomWindow.css(n)),s.options.tint&&(s.tintContainer.css(n),s.zoomTint.css(n),s.zoomTintImage.css(n))),"width"===s.options.constrainType&&(n={height:"auto",width:s.options.constrainSize},s.zoomContainer.css(n),s.options.imageCrossfade?(s.zoomWrap.css(n),s.constheight=s.zoomWrap.height()):(s.$elem.css(n),s.constheight=h),h={height:s.constheight,width:s.options.constrainSize},"inner"===s.options.zoomType&&(s.zoomWrap.parent().css(h),s.zoomWindow.css(h)),s.options.tint&&(s.tintContainer.css(h),s.zoomTint.css(h),s.zoomTintImage.css(h))))},doneCallback:function(){var o,e,i=this;i.options.loadingIcon&&i.spinner.hide(),i.nzOffset=i.$elem.offset(),i.nzWidth=i.$elem.width(),i.nzHeight=i.$elem.height(),i.currentZoomLevel=i.options.zoomLevel,i.widthRatio=i.largeWidth/i.nzWidth,i.heightRatio=i.largeHeight/i.nzHeight,"window"===i.options.zoomType&&(o=i.nzHeight<i.options.zoomWindowHeight/i.heightRatio?i.nzHeight:String(i.options.zoomWindowHeight/i.heightRatio),e=i.nzWidth<i.options.zoomWindowWidth?i.nzWidth:i.options.zoomWindowWidth/i.widthRatio,i.zoomLens&&i.zoomLens.css({width:e,height:o}))},getCurrentImage:function(){return this.zoomImage},getGalleryList:function(){var e=this;return e.gallerylist=[],e.options.gallery?p("#"+e.options.gallery+" a").each(function(){var o="";p(this).data("zoom-image")?o=p(this).data("zoom-image"):p(this).data("image")&&(o=p(this).data("image")),o===e.zoomImage?e.gallerylist.unshift({href:""+o,title:p(this).find("img").attr("title")}):e.gallerylist.push({href:""+o,title:p(this).find("img").attr("title")})}):e.gallerylist.push({href:""+e.zoomImage,title:p(this).find("img").attr("title")}),e.gallerylist},changeZoomLevel:function(o){var e=this;e.scrollingLock=!0,e.newvalue=parseFloat(o).toFixed(2);var i=e.newvalue,t=e.largeHeight/(e.options.zoomWindowHeight/e.nzHeight*e.nzHeight),o=e.largeWidth/(e.options.zoomWindowWidth/e.nzWidth*e.nzWidth);"inner"!==e.options.zoomType&&(t<=i?(e.heightRatio=e.largeHeight/t/e.nzHeight,e.newvalueheight=t,e.fullheight=!0):(e.heightRatio=e.largeHeight/i/e.nzHeight,e.newvalueheight=i,e.fullheight=!1),o<=i?(e.widthRatio=e.largeWidth/o/e.nzWidth,e.newvaluewidth=o,e.fullwidth=!0):(e.widthRatio=e.largeWidth/i/e.nzWidth,e.newvaluewidth=i,e.fullwidth=!1),"lens"===e.options.zoomType&&(t<=i?(e.fullwidth=!0,e.newvaluewidth=t):(e.widthRatio=e.largeWidth/i/e.nzWidth,e.newvaluewidth=i,e.fullwidth=!1))),"inner"===e.options.zoomType&&((t=parseFloat(e.largeHeight/e.nzHeight).toFixed(2))<i&&(i=t),(o=parseFloat(e.largeWidth/e.nzWidth).toFixed(2))<i&&(i=o),t<=i?(e.heightRatio=e.largeHeight/i/e.nzHeight,e.newvalueheight=t<i?t:i,e.fullheight=!0):(e.heightRatio=e.largeHeight/i/e.nzHeight,e.newvalueheight=t<i?t:i,e.fullheight=!1),o<=i?(e.widthRatio=e.largeWidth/i/e.nzWidth,e.newvaluewidth=o<i?o:i,e.fullwidth=!0):(e.widthRatio=e.largeWidth/i/e.nzWidth,e.newvaluewidth=i,e.fullwidth=!1));i=!1;"inner"===e.options.zoomType&&(e.nzWidth>=e.nzHeight&&(e.newvaluewidth<=o?i=!0:(i=!1,e.fullheight=!0,e.fullwidth=!0)),e.nzHeight>e.nzWidth&&(e.newvaluewidth<=o?i=!0:(i=!1,e.fullheight=!0,e.fullwidth=!0))),"inner"!==e.options.zoomType&&(i=!0),i&&(e.zoomLock=0,e.changeZoom=!0,e.options.zoomWindowHeight/e.heightRatio<=e.nzHeight&&(e.currentZoomLevel=e.newvalueheight,"lens"!==e.options.zoomType&&"inner"!==e.options.zoomType&&(e.changeBgSize=!0,e.zoomLens.css("height",String(e.options.zoomWindowHeight/e.heightRatio)+"px")),"lens"!==e.options.zoomType&&"inner"!==e.options.zoomType||(e.changeBgSize=!0)),e.options.zoomWindowWidth/e.widthRatio<=e.nzWidth&&("inner"!==e.options.zoomType&&e.newvaluewidth>e.newvalueheight&&(e.currentZoomLevel=e.newvaluewidth),"lens"!==e.options.zoomType&&"inner"!==e.options.zoomType&&(e.changeBgSize=!0,e.zoomLens.css("width",String(e.options.zoomWindowWidth/e.widthRatio)+"px")),"lens"!==e.options.zoomType&&"inner"!==e.options.zoomType||(e.changeBgSize=!0)),"inner"===e.options.zoomType&&(e.changeBgSize=!0,e.nzWidth>e.nzHeight&&(e.currentZoomLevel=e.newvaluewidth),e.nzHeight>e.nzWidth&&(e.currentZoomLevel=e.newvaluewidth))),e.setPosition(e.currentLoc)},closeAll:function(){var o=this;o.zoomWindow&&o.zoomWindow.hide(),o.zoomLens&&o.zoomLens.hide(),o.zoomTint&&o.zoomTint.hide()},changeState:function(o){"enable"===o&&(this.options.zoomEnabled=!0),"disable"===o&&(this.options.zoomEnabled=!1)},responsiveConfig:function(o){return o.respond&&0<o.respond.length?p.extend({},o,this.configByScreenWidth(o)):o},configByScreenWidth:function(o){var e=p(t).width(),i=p.grep(o.respond,function(o){o=o.range.split("-");return e>=o[0]&&e<=o[1]});return 0<i.length?i[0]:o}};p.fn.ezPlus=function(e){return this.each(function(){var o=Object.create(i);o.init(e,this),p.data(this,"ezPlus",o)})},p.fn.ezPlus.options={borderColour:"#888",borderSize:4,constrainSize:!1,constrainType:!1,containLensZoom:!1,cursor:"inherit",debug:!1,easing:!1,easingAmount:12,enabled:!0,gallery:!1,galleryActiveClass:"zoomGalleryActive",gallerySelector:!1,galleryItem:"a",imageCrossfade:!1,lensBorderColour:"#000",lensBorderSize:1,lensColour:"white",lensFadeIn:!1,lensFadeOut:!1,lensOpacity:.4,lensShape:"square",lensSize:200,lenszoom:!1,loadingIcon:!1,mantainZoomAspectRatio:!1,maxZoomLevel:!1,minZoomLevel:!1,onComplete:p.noop,onDestroy:p.noop,onImageClick:p.noop,onImageSwap:p.noop,onImageSwapComplete:p.noop,onShow:p.noop,onZoomedImageLoaded:p.noop,preloading:1,respond:[],responsive:!0,scrollZoom:!1,scrollZoomIncrement:.1,showLens:!0,tint:!1,tintColour:"#333",tintOpacity:.4,touchEnabled:!0,zoomActivation:"hover",zoomContainerAppendTo:"body",zoomLevel:1,zoomTintFadeIn:!1,zoomTintFadeOut:!1,zoomType:"window",zoomWindowAlwaysShow:!1,zoomWindowBgColour:"#fff",zoomWindowFadeIn:!1,zoomWindowFadeOut:!1,zoomWindowHeight:400,zoomWindowOffsetX:0,zoomWindowOffsetY:0,zoomWindowPosition:1,zoomWindowWidth:400,zoomEnabled:!0,zIndex:999}}(jQuery,window,document);
